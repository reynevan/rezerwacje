<div class="position-tile">
    <div ng-if="!vm.position.editing">
        <i class="material-icons circle green">person</i>
        <span class="title">{{vm.position.name}}</span>
        <p>
            <div class="description">{{vm.position.description}}</div>
        </p>
    </div>

    <div class="secondary-content" ng-if="!vm.position.new">
        <a href="" ng-click="vm.position.editing = !vm.position.editing" ng-if="!vm.position.removing">
            <i class="material-icons">edit</i>
        </a>
        <a href="" ng-click="vm.removeUser(vm.position)" ng-if="!vm.position.removing">
            <i class="material-icons">close</i>
        </a>
    </div>
    <div class="secondary-content" ng-if="vm.position.removing">
        <loader></loader>
    </div>

    <div ng-if="vm.position.editing">
        <form class="col s12 l8 offset-l2 xl6 offset-xl3" ng-submit="vm.savePosition(vm.position)">
            <div input-field class="row">

                <div class="input-field col s12">
                    <i class="material-icons prefix">account_circle</i>
                    <input id="first_name" type="text" class="validate" ng-model="vm.position.name"
                           ng-class="{'invalid': vm.errors.name}">
                    <label for="first_name">{{'FIELDS.NAME' | translate}}</label>
                </div>
            </div>
            <div input-field class="row">
                    <div class="input-field col s12">
                        <i class="material-icons prefix">mode_edit</i>
                        <textarea id="details" class="materialize-textarea" ng-model="vm.position.description"></textarea>
                        <label for="details">{{'FIELDS.DESCRIPTION' | translate}}</label>
                    </div>
                </div>
            <div class="buttons right-align" ng-if="!vm.position.saving">
                <button class="btn waves-effect" type="submit">{{'SAVE' | translate}}</button>
                <button class="btn waves-effect red" type="reset" ng-click="vm.cancel(vm.position)">
                    {{'CANCEL' | translate}}
                </button>
            </div>

            <loader ng-if="vm.position.saving"></loader>
        </form>
    </div>
</div>